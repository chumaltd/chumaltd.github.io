<!DOCTYPE html>
<html data-color-mode="dark" data-dark-theme="dark">
    <head><meta charset="utf-8">
<link rel="preconnect" href="https://fonts.googleapis.com" />
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
<meta http-equiv="x-ua-compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Migrate to IPv6 | civilis</title>

<meta name="theme-color" content="rgb(38, 29, 32)">
<link rel='stylesheet' href='//fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200&display=block'>

<link rel='stylesheet' href='/lib/cm.css'>
<link rel="stylesheet" href='/lib/base.css' />

<meta name="twitter:card" content="summary" />
<meta property="og:url" content="https://chumaltd.github.io/en/ipv6-transition/" />
<meta property="og:title" content="Migrate to IPv6" />
<meta property="og:description" content="Eventually, all internet devices will communicate via IPv6. Once everything is unified under IPv6, there will likely be fewer technical issues or concerns at the IP layer.
The challenge lies in the fact that we will have to support dual-stack configurations, where both IPv4 and IPv6 coexist, for an extended period." />
<meta property="og:image" content='/images/m84jrlxVUc1r9blbt.jpg' />
<link rel="canonical" href=https://chumaltd.github.io/en/ipv6-transition/ />

<link rel="alternate" hreflang="ja" href="https://chumaltd.github.io/ja/ipv6-transition/" />
    </head>
    <body class="en "><header id="global-nav" class="navbar" role="navigation" aria-label="main navigation">
  <section class="container-xl" style="width: 100%">
  <div class="navbar-brand">
    <span class="navbar-item">
    <cm-drawer style="margin-right: .7rem"></cm-drawer>
    <a href='/' style="display: inline-flex">
	    
	    <img id="footer_logo" src="/common/civilis.svg">
	    
    </a>
    </span>
 </div>
  <div class="navbar-menu">
    <div class="navbar-start">
    </div>
  </div>
  </section>
</header>

<div id ="o" class="o">
<nav class="container-xl" style="overflow: hidden">
  <div class="d-sm-flex">
    <div class="quarter hide-sm"></div>
    <div class="p-3 three-quarter">
        <nav id="breadcrumb" class="breadcrumb is-small px-4 py-3">
<ul>
  <li class="breadcrumb-item"><a href="/en/">HOME</a></li>
  <li class="current breadcrumb-item breadcrumb-item-selected">&nbsp;Migrate to IPv6</li></ul>
<script type="application/ld+json">
{"@context":"http://schema.org", "@graph":[
	{"@type":"WebSite","id":"https:\/\/chumaltd.github.io\/en\/","name":"civilis"},
	{"@type":"BreadcrumbList","itemListElement":[
{"@type": "ListItem","position":1,"item":{"@id":"https://chumaltd.github.io/en/","name": "civilis" }},
{"@type": "ListItem","position":4,"item":{"@id": "https://chumaltd.github.io/en/ipv6-transition/","name": "Migrate to IPv6" }
}]}
]}
</script>
</nav>

    </div>
  </div>
</nav>
<div class="coverart" style="
        background-image: url(/images/m84jrlxVUc1r9blbt.jpg);
      
      ">
<main class="container-xl">
    <div class="d-sm-flex" style="padding: calc(min(10vw, 1340px)) 0">
    <div class="quarter hide-sm"></div>
    <div id="pagetitle" class="three-quarter px-3">
	<div class="mb-4">
        <h1 class="h2 idx py-5">
          Migrate to IPv6
        </h1><div style="text-align: right; font-weight: 600; font-style: italic">Aug 27, 2024</div></div>
    </div>
  </div>
  <div class="d-sm-flex">
    <nav class="quarter layered">
        <nav class="mb-3 px-5 py-4">
            <a href="/ja/ipv6-transition/" class="mx-4">Japanese</a></nav><aside class="toc sticky" style="position: sticky; top: 3em">
        <div class="header"><i class="material-symbols-outlined">toc</i>&nbsp;Migrate to IPv6</div>
        <nav id="TableOfContents">
  <ul>
    <li><a href="#switching-to-ipv6-in-access-network">Switching to IPv6 in Access Network</a>
      <ul>
        <li><a href="#multiple-address-assignment-methods-will-coexist">Multiple address assignment methods will coexist</a></li>
        <li><a href="#building-your-own-router-might-be-a-viable-option">Building your own router might be a viable option</a></li>
      </ul>
    </li>
    <li><a href="#switching-data-centers-to-ipv6">Switching data centers to IPv6</a>
      <ul>
        <li><a href="#more-expertise-needed-for-building-virtual-networks">More expertise needed for building virtual networks</a></li>
      </ul>
    </li>
    <li><a href="#ipv4-has-become-a-thing-of-the-past">IPv4 has become a thing of the past</a></li>
  </ul>
</nav>
      </aside>
    </nav>
    <div id="content" class="three-quarter">
      <article>
        <p>Eventually, all internet devices will communicate via IPv6. Once everything is unified under IPv6, there will likely be fewer technical issues or concerns at the IP layer.<br>
The challenge lies in the fact that we will have to support dual-stack configurations, where both IPv4 and IPv6 coexist, for an extended period.</p>
<p>The official declaration of 
<a href="https://en.wikipedia.org/wiki/IPv4_address_exhaustion">IPv4 exhaustion</a> began in 2011. As mobile internet continues to grow, the proportion of devices connecting via IPv6 will increase.</p>
<p>While the technical barriers to adopting IPv6 are actually quite low, most devices still default to IPv4 unless intentionally configured otherwise.<br>
Since transitioning from IPv4 to IPv6 can cause more issues than the initial implementation, it&rsquo;s preferable to choose IPv6 from the start whenever possible.</p>
<h2 id="switching-to-ipv6-in-access-network">Switching to IPv6 in Access Network</h2>
<p>The network for a site connecting to the internet is determined by the choice of access network services.</p>
<p>In Japan, NTT, which provides the connection between homes or offices and the network, started switching the network layer of its fiber optic access services to IPv6 around 2011. As a result, locations subscribing to these services are now using IPv6 access.<br>
Japan&rsquo;s broadband lines rapidly adopted 
<a href="https://en.wikipedia.org/wiki/ADSL">ADSL</a> around 2002, and then began transitioning to fiber optics around 2005. For those who subscribed to these services from the beginning, the shift from IPv4 to IPv6 likely occurred during the 3rd generation of network upgrades.</p>
<p>A typical issue with access networks stems from the implementation of IPv4 over IPv6 tunnels.</p>
<p>Even when IPv4 and IPv6 coexist, they are completely independent networks, so when an access network becomes IPv6-native, it can no longer connect to IPv4 services.<br>
Adding an IPv4 over IPv6 service allows access to IPv4 networks, but there are multiple methods, each adopted by different service providers. Ultimately, a router that supports the specific type of IPv4 over IPv6 tunnel associated with the contracted service is essential.</p>
<p>Many Wi-Fi access points now come with built-in internet router functionality, and it seems that consumer-grade Wi-Fi routers have increasingly begun supporting IPv4 over IPv6 tunnels.<br>
Since Wi-Fi standards tend to update more frequently than fixed-line infrastructure, consumers who keep up with wireless technology and regularly replace their equipment are less likely to encounter issues during the IPv6 transition.</p>
<p>On the other hand, setting up networks in corporate offices can be more challenging.<br>
Many routers do not support all types of IPv4 over IPv6 tunneling methods, and if the router does not match the contracted service type, it could hinder internet usage. Although service explanations often do not mention technical issues related to the IPv6 transition, if the router&rsquo;s features can&rsquo;t handle it, there are no alternative implementation methods available.</p>
<p>IPv4 over IPv6 is a relatively minor function among various network features, so it’s something that ideally wouldn&rsquo;t be a critical selection criterion.<br>
In the era of IPv4-only providers, only one router could be connected, but with IPv6, it is often possible to connect multiple routers through a switching hub. For our transition, a configuration was chosen where a network without IPv4 access was set up alongside a corporate router.</p>
<h3 id="multiple-address-assignment-methods-will-coexist">Multiple address assignment methods will coexist</h3>
<p>In the IPv4 era, IP addresses were typically assigned using DHCP. In IPv6, it&rsquo;s likely that 
<a href="https://en.wikipedia.org/wiki/DHCPv6">DHCPv6</a> and <a href="https://en.wikipedia.org/wiki/IPv6_address#Stateless_address_autoconfiguration_(SLAAC)">SLAAC</a> will coexist.</p>
<p>With SLAAC, which is part of the standard for IPv6, each device determines its own address, taking advantage of the abundant address space. DHCPv6, on the other hand, allows management devices like routers to assign and distribute addresses.</p>
<p>Platforms that favor DHCPv6 include Windows and VoIP devices. Essentially, in scenarios where a LAN administrator needs centralized management, it makes sense to generate and track addresses centrally. Conversely, for mobile devices that frequently move and cannot always be centrally managed by a single router, SLAAC is more appropriate.</p>
<p>As a result, the management methods for IPv6 networks are not likely to result in one standard dominating the other; both will likely survive. Network devices will need to support both methods simultaneously.</p>
<h3 id="building-your-own-router-might-be-a-viable-option">Building your own router might be a viable option</h3>
<p>While it&rsquo;s not the most common approach, you might consider building your own router to cover the necessary functions for access networks.</p>
<p>As mentioned later, setting up an IP network with Kubernetes is almost like building a router.<br>
Additionally, the noticeable lack of functionality in commercial routers and the commoditization of hardware driven by ARM&rsquo;s progress contribute to the relative obsolescence of off-the-shelf products.</p>
<p>In the past, buying dedicated network devices helped ensure security, but now there are significant concerns about the security quality of commercial products.<br>
Many popular consumer-brand devices in Japan have software vulnerabilities, and there remains a possibility that these devices include chips with backdoor functions.</p>
<p>To ensure network security, it&rsquo;s crucial to have clear hardware and a complete understanding of the routing configuration.</p>
<h2 id="switching-data-centers-to-ipv6">Switching data centers to IPv6</h2>
<p>Many companies not only have office locations but also lease data centers.</p>
<p>As mentioned earlier, switching access networks to IPv6 can cause issues when trying to access IPv4 services.<br>
If problems arise during the IPv6 transition, many people might mistakenly believe that there are technical issues with IPv6 itself. However, the real issue lies in the compatibility with IPv4 services, not in the communication between IPv6 peers.</p>
<p>For companies running systems in data centers, if the access network has switched to IPv6, the data center services should also be transitioned to IPv6.</p>
<p>Using some proxy software is likely the easiest way to ensure compatibility with IPv4.<br>
Proxies are designed to work seamlessly whether the destination is IPv4 or IPv6, so the goal should be to replace internal communication with IPv6 only.</p>
<p>However, this change cannot be made all at once. In many cases, each individual service will need to be migrated to IPv6 one at a time. The more services there are, the more time-consuming the process will be.</p>
<p>For a smoother transition to IPv6, it&rsquo;s helpful to have a high-functioning network that supports IPv4/IPv6 dual-stack as a prerequisite. If the network is single-stack, you&rsquo;ll inevitably need to migrate to a different infrastructure, which broadens the scope of the switch.</p>
<p>The behavior of IPv6 can vary depending on the specific application, so it’s hard to generalize. There are CLI commands that might prevent IPv4 access simply because a route to the IPv6 network exists, potentially disrupting the planned pace of work.</p>
<p>It&rsquo;s also possible that some software won&rsquo;t function properly with IPv6.<br>
As IPv4 becomes more costly over time and 
<a href="https://en.wikipedia.org/wiki/Network_address_translation">NAT</a> configurations might effectively become lost technologies, identifying software that is incompatible with IPv6 is crucial for long-term sustainability.</p>
<h3 id="more-expertise-needed-for-building-virtual-networks">More expertise needed for building virtual networks</h3>
<p>When it comes to development tools that include virtual networks, many existing setups are often IPv4 single-stack.<br>
The de facto standard for clusters using virtual networks is Kubernetes, which already supports IPv4/IPv6 dual-stack functionality.</p>
<p>While the dual-stack functionality is likely at a level where it is practically problem-free, deploying it requires recreating the cluster.<br>
As of 2024, it seems that only a small percentage of engineers are choosing IPv6 networks from the start. Consequently, pre-packaged solutions may not work out of the box, leading to a lot of trial and error in achieving the correct configuration.</p>
<p>Virtual networks are significantly more complex than the network configurations of standalone operating systems. Additionally, given that Linux is currently transitioning away from the traditional iptables for network implementation, the initial setup will likely require considerable effort.</p>
<p>Over the past decade, the decline of published books has made it difficult to access comprehensive sources of information. This lack of collective knowledge has proven to be a significant obstacle, making troubleshooting in IPv6 network construction particularly challenging.</p>
<h2 id="ipv4-has-become-a-thing-of-the-past">IPv4 has become a thing of the past</h2>
<p>Even among software engineers, the percentage of those interested in IP networks is likely quite small, as most software targets higher-level protocols.</p>
<p>However, many systems likely use IPv4 at a lower layer without much thought, and if they plan to keep using these systems for more than a decade, they will eventually have to transition to IPv6.<br>
Since migrating protocols that aren&rsquo;t routinely managed isn&rsquo;t straightforward, building new projects on IPv6 from the start can save considerable effort in the future.</p>
<p>For services that have already been established, the transition to IPv6 was always an anticipated event, and it will inevitably need to be addressed at some point.</p>


	<div class="my-4" style="text-align: right; font-style: italic">
	<span>⁋ Aug 27, 2024</span><span class="mx-2">↻ Sep 4, 2024</span></div><div class="related_articles">
              <h4 id="related" class="idx"></h4>
              
              
<a href="/en/ipv6-transition/" class="compbox bordered py-2">
        <picture>
            <img src="/images/m84jrlxVUc1r9blbt.jpg">
        </picture>
        <div>
            <div class="h3 idx mb-2" href="/en/ipv6-transition/">Migrate to IPv6</div>
            <div class="f5">Eventually, all internet devices will communicate via IPv6. Once everything is unified under IPv6, there will likely be fewer technical issues or concerns at the IP layer.
The challenge lies in the fact that we will have to support dual-stack configurations, where both IPv4 and IPv6 coexist, for an extended period.……</div>
	</div>
</a>
<a href="/en/voip-integration/" class="compbox bordered py-2">
        <picture>
            <img src="/images/m84jrlxVUc1r9blbt.jpg">
        </picture>
        <div>
            <div class="h3 idx mb-2" href="/en/voip-integration/">VoIP integration under the scorching sun</div>
            <div class="f5">The telephone, invented by Bell in 1876, has been in use for 150 years. How much longer will the method of dialing a number to reach someone continue?
In Japan, due to the widespread adoption of mobile phones, traditional PSTN phones have been declining in households. However, businesses are still required to install phones, effectively making it mandatory due to administrative demands from governments.……</div>
	</div>
</a>
<a href="/en/covid19-2023/" class="compbox bordered py-2">
        <picture>
            <img src="/images/m84jrlxVUc1r9blbt.jpg">
        </picture>
        <div>
            <div class="h3 idx mb-2" href="/en/covid19-2023/">Halfway with COVID-19</div>
            <div class="f5">In Japan, starting from May 8th, 2023, the classification of COVID-19 as a Category 5 infectious disease means that the administrative response will shift to &ldquo;no guard&rdquo; status. However, this does not necessarily mean that the underlying situation has improved.
The Evolution of the Virus Ultimately, the coronavirus has fully entrenched itself worldwide, remaining an infectious disease that results in death in a certain percentage of cases.……</div>
	</div>
</a>
<a href="/en/civilis/" class="compbox bordered py-2">
        <picture>
            <img src="/images/m84jrlxVUc1r9blbt.jpg">
        </picture>
        <div>
            <div class="h3 idx mb-2" href="/en/civilis/">CIVILIS</div>
            <div class="f5">We have silly situations at last.
Everyone intends to make efforts every day from their respective social positions. Thus, the resulting social system was also one that efficiently spreads epidemics throughout the world.
COVID-19 is the returning of SARS in 2002 in terms of the virus type, the route of transmission, and the prevention of epidemics.……</div>
	</div>
</a>

          </div>

      </article>
    </div>
  </div>
</main>
</div>
</div>
<footer class="footer lazy-block"><div class="container-xl">
      <div>
          <img id="footer_logo" src="/common/civilis.svg" loading="lazy">
          
      </div>
  </div>
</footer><script type="module" src=/lib/cm.js ></script>
</body>
</html>
